<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div>
        <input type="file" id="upload" accept="image/*" />
        <button id="download" style="display:none;">Download</button>
        <canvas id="canvas"></canvas>
    </div>
    <script>
        // Base64 for the black parts image mask
        const maskImageBase64 = "iVBORw0KGgoAAAANSUhEUgAAAtgAAAEoCAYAAABiqYaBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAC2KADAAQAAAABAAABKAAAAABqVtsRAAAd9klEQVR4Ae3dwY4bx5kH8LE9ki05SIQ4lgEBiwVs6JKDNmcBgYD1JUCO67yDX8InvUR8zNneR9BBF/vq1SELSPApgA5WAijGap21bHirhuyoh1XNIT8WOSTrR6BF8iOr2PXrb3r+Q1GjkxMXAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAYC7w2gYSn8zH3plf307Xtxbme3fh/ip3X6YnPR898Wm6/WR+/9H8+ot0/WB+u5erRe+87nsLiz8k78X16J+Fg9n47qJ3nl7/lMjOP6VJruifustiVf8siszu65+6y2JV/yyKHHD/LAvYi18Q+ZvxjbRdqa//0qrP5q/8cH6dQ/j9S9ub+Atn78UfVvbNe/jiH37oWWatf+K9EBmpfyJqm49x/tnccNUZnH9Wldr9847t/JMFx2vay/zzxttvP/vxxYu8r/JPVtjuZZ3zz9meLAvYP213X3cye/7mNw6D+/DO9/BFO7xjG3nXeSd4a7xIrY/0zxqAazxV/6yBdclPdf7ZzQFw/tmNc36VXs4/ea0H/T1sHr7ln3wkt3upnX/OXnHygfToQTfXBZ75G9/DtOV3YLcVuj9Mc99NW35X+l7a9u3d6LRLzS61PtI/m/Hqn8389nm080/bo+P809Yzz9b7+ScbHOX3sHnwln/yEW5zqZ1/zmaefCA9epTNtcRz/E0v8hGTfEL6OG3HHqZrhLU+0j81qema/jlvo3/Oe1x0T/+cF9I/5z0uuqd/SqFueuiNt9569uM//jGE7vslxYUV/XMh0fkn5Obqefsmrf+ztOXGqV1yPT+en9ez09RJqHcT/bP610Xt60v/OP+s2gP6p/xac/4pTab6qdY/uTb1/KOvp3e59c/qx3+qf05q7zwOT85N5HJykt/ZvlmByA14DJ+frixt7VKtj/TPjFH/XNxO+mfaSP9M2wyP6J9BorzWP6XJYqXWP/k5vofJP4u9Urs/1T8nr9eerUaAAAECBAgQIECAQExAwI65GUWAAAECBAgQIECgKiBgV1kUCRAgQIAAAQIECMQEBOyYm1EECBAgQIAAAQIEqgICdpVFkQABAgQIECBAgEBMQMCOuRlFgAABAgQIECBAoCogYFdZFAkQIECAAAECBAjEBATsmJtRBAgQIECAAAECBKoCAnaVRZEAAQIECBAgQIBATEDAjrkZRYAAAQIECBAgQKAqIGBXWRQJECBAgAABAgQIxAQE7JibUQQIECBAgAABAgSqAgJ2lUWRAAECBAgQIECAQExAwI65GUWAAAECBAgQIECgKiBgV1kUCRAgQIAAAQIECMQEBOyYm1EECBAgQIAAAQIEqgICdpVFkQABAgQIECBAgEBMQMCOuRlFgAABAgQIECBAoCogYFdZFAkQIECAAAECBAjEBATsmJtRBAgQIECAAAECBKoCAnaVRZEAAQIECBAgQIBATEDAjrkZRYAAAQIECBAgQKAqIGBXWRQJECBAgAABAgQIxAQE7JibUQQIECBAgAABAgSqAgJ2lUWRAAECBAgQIECAQExAwI65GUWAAAECBAgQIECgKiBgV1kUCRAgQIAAAQIECMQEBOyYm1EECBAgQIAAAQIEqgICdpVFkQABAgQIECBAgEBMQMCOuRlFgAABAgQIECBAoCogYFdZFAkQIECAAAECBAjEBATsmJtRBAgQIECAAAECBKoCAnaVRZEAAQIECBAgQIBATEDAjrkZRYAAAQIECBAgQKAqIGBXWRQJECBAgAABAgQIxAQE7JibUQQIECBAgAABAgSqAgJ2lUWRAAECBAgQIECAQExAwI65GUWAAAECBAgQIECgKiBgV1kUCRAgQIAAAQIECMQEBOyYm1EECBAgQIAAAQIEqgICdpVFkQABAgQIECBAgEBMQMCOuRlFgAABAgQIECBAoCogYFdZFAkQIECAAAECBAjEBATsmJtRBAgQIECAAAECBKoCAnaVRZEAAQIECBAgQIBATEDAjrkZRYAAAQIECBAgQKAqIGBXWRQJECBAgAABAgQIxAQE7JibUQQIECBAgAABAgSqAgJ2lUWRAAECBAgQIECAQExAwI65GUWAAAECBAgQIECgKiBgV1kUCRAgQIAAAQIECMQEBOyYm1EECBAgQIAAAQIEqgICdpVF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gF2QKBAgQIAAAQIECBCICwjYcTsjCRAgQIAAAQIECBQCAnZBokCAAAECBAgQIEAgLiBgx+2MJECAAAECBAgQIFAICNgFiQIBAgQIECBAgACBuICAHbczkgABAgQIECBAgEAhIGAXJAoECBAgQIAAAQIE4gICdtzOSAIECBAgQIAAAQKFgIBdkCgQIECAAAECBAgQiAsI2HE7IwkQIECAAAECBAgUAgJ2QaJAgAABAgQIECBAIC4gYMftjCRAgAABAgQIECBQCAjYBYkCAQIECBAgQIAAgbiAgB23M5IAAQIECBAgQIBAISBgFyQKBAgQIECAAAECBOICAvbFdk8nnjJVn3i6cqcCU30yVe+UybInBKb6ZKo+MY1ypwJTfTJV75TJsgm0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHsBAbu9qRkJECBAgAABAgQ6FhCwOz74lk6AAAECBAgQINBeQMBub2pGAgQIECBAgACBjgUE7I4PvqUTIECAAAECBAi0FxCw25uakQABAgQIECBAoGMBAbvjg2/pBAgQIECAAAEC7QUE7PamZiRAgAABAgQIEOhYQMDu+OBbOgECBAgQIECAQHuB0w2nfJnGP0/b07T953yuL+bX+erB6PaqNz+cP/Hu/Po/0vWttN1I25V5reerZeabeGfTXZsvW0ven03Ws+u15P09hMsy802889p3bb5sLXl/NlnPrteS9/cQLsvMN/HOa9+1+bK15P3ZZD27Xkve30O4LDPfxDuvnfkhdEBH+/jakrV+P3rsz+l2DtA5PEe+CEZTNbs5DuI5hP86bdsI4P+V5v1NZa+/SrV/q9Q3LeUT0Ng7z7dP5vkkNnjnfcuXq7Orc3/qnxmH/nnVFvlrVv+88ljllv55paR/Xlmsekv/vJJap39ejXKLAIFC4JNU+Sxt36Ttpw22HKRrl1zfZN68X3n/8n4OPyykmy57IqB/9uRAHOhu6J8DPXB7stv6Z08OhN0gQGA1gRxk84lrndDdImDn18uvK0gnhAO+6J8DPnh7sOv6Zw8OwgHvgv454INn1wn0KJBPWsve6V43YOePRuT58rwuxy+gf47/GG9zhfpnm7rHP7f+Of5jbIUHKrDsM9gHuqQmu53fbR5f7o/vzG+v8pzKMKUOBFbpjVWe0wGVJVYEVumNVZ5TmVqpA4FVemOV53RAZYkECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgd4E1v2ISP68V/41W3fmULfT9a357Rvpehu/Jm/4vZn5ZfLv236Sb6TLo9nVSe3jG/OHDv5q+Gu8XXpntGdzuUXvTX9No/7ZbUvqn829nX92e77PR8z5Z/O+3YcZju38sw+m9uGABJYF7PwP9fLlXtq2FZ7PXqDRH8NJ+eF8vhzADyF855PQEKCzdb68O7va2z+H0DFY/6Gyp/qngrKFkv7ZAmpgSuefAFpwiPNPEG4Lw471/LMFKlP2JrAsYOff8Xwsl/zNb3g39rKCd3739uM56KH80LLq8a/1kf5ZVW+15+mf1Zz28VnOP9s9Ks4/2/XNs/d2/tm+qFc4eoHaiWlY9DEFpGFN4+v8Lkj+HxOfpO2PaXuQtlaX4WQ0fIRm39+R3nTdtT7SP3FV/TP7T5zigvs/0vmn3TFy/vH9a5NuqvXPJvMZS+BMYFljHXtAqrVAfqfpYdrWfZd7+Guye2nssYfpmlutj/RPTape0z+li/4pTaYq+qeU0T+lyVRF/0zJqBPYQKAWjIbpejxBDWsfrofAPfUZ43vpiT0G6sFnuK71kf6Z/WOt/AOb/hk6pX6tf+ouzj91l8Wq/lkUmd3XP3WXxWqtfxaf4z6BtQWWNZaANOPMJ6mbFdn8358L1zOYWh/pn5mN/ql88SyU9M8CyOiu/hlhTNzUPxMwqax/pm2GR2r9MzzmmkBY4PXwSAMJECBAgAABAgQIECgEBOyCRIEAAQIECBAgQIBAXEDAjtsZSYAAAQIECBAgQKAQELALEgUCBAgQIECAAAECcQEBO25nJAECBAgQIECAAIFCQMAuSBQIECBAgAABAgQIxAUE7LidkQQIECBAgAABAgQKAQG7IFEgQIAAAQIECBAgEBcQsON2RhIgQIAAAQIECBAoBATsgkSBAAECBAgQIECAQFxAwI7bGUmAAAECBAgQIECgEBCwCxIFAgQIECBAgAABAnEBATtuZyQBAgQIECBAgACBQkDALkgUCBAgQIAAAQIECMQFBOy4nZEECBAgQIAAAQIECgEBuyBRIECAAAECBAgQIBAXELDjdkYSIECAAAECBAgQKAQE7IJEgQABAgQIECBAgEBcQMCO2xlJgAABAgQIECBAoBAQsAsSBQIECBAgQIAAAQJxAQE7bmckAQIECBAgQIAAgUJAwC5IFAgQIECAAAECBAjEBQTsuJ2RBAgQIECAAAECBAoBAbsgUSBAgAABAgQIECAQFxCw43ZGEiBAgAABAgQIECgEBOyCRIEAAQIECBAgQIBAXEDAjtsZSYAAAQIECBAgQKAQELALEgUCBAgQIECAAAECcQEBO25nJAECBAgQIECAAIFCQMAuSBQIECBAgAABAgQIxAUE7LidkQQIECBAgAABAgQKAQG7IFEgQIAAAQIECBAgEBcQsON2RhIgQIAAAQIECBAoBATsgkSBAAECBAgQIECAQFxAwI7bGUmAAAECBAgQIECgEBCwCxIFAgQIECBAgAABAnEBATtuZyQBAgQIECBAgACBQkDALkgUCBAgQIAAAQIECMQFBOy4nZEECBAgQIAAAQIECgEBuyBRIECAAAECBAgQIBAXELDjdkYSIECAAAECBAgQKAQE7IJEgQABAgQIECBAgEBcQMCO2xlJgAABAgQIECBAoBAQsAsSBQIECBAgQIAAAQJxAQE7bmckAQIECBAgQIAAgUJAwC5IFAgQIECAAAECBAjEBQTsuJ2RBAgQIECAAAECBAoBAbsgUSBAgAABAgQIECAQFxCw43ZGEiBAgAABAgQIECgEBOyCRIEAAQIECBAgQIBAXEDAjtsZSYAAAQIECBAgQKAQELALEgUCBAgQIECAAAECcQEBO25nJAECBAgQIECAAIFCQMAuSBQIECBAgAABAgQIxAUE7LidkQQIECBAgAABAgQKAQG7IFEgQIAAAQIECBAgEBcQsON2RhIgQIAAAQIECBAoBATsgkSBAAECBAgQIECAQFxAwI7bGUmAAAECBAgQIECgEBCwCxIFAgQIECBAgAABAnEBATtuZyQBAgQIECBAgACBQkDALkgUCBAgQIAAAQIECMQFBOy4nZEECBAgQIAAAQIECgEBuyBRIECAAAECBAgQIBAXELDjdkYSIECAAAECBAgQKAQE7IJEgQABAgQIECBAgEBcQMCO2xlJgAABAgQIECBAoBAQsAsSBQIECBAgQIAAAQJxAQE7bmckAQIECBAgQIAAgUJAwC5IFAgQIECAAAECBAjEBQTsuJ2RBAgQIECAAAECBAoBAbsgUSBAgAABAgQIECAQFxCw43ZGEiBAgAABAgQIECgEBOyCRIEAAQIECBAgQIBAXEDAjtsZSYAAAQIECBAgQKAQELALEgUCBAgQIECAAAECcQEBO25nJAECBAgQIECAAIFC4LSorFd4mZ7+fD7k4Wjoo9HtfPOLtD1YqI3vfjK+k27fGd2/N799I11fGdV7vbmq+f0lQB+mx+4uPH4Z5quuRf8sHKwN7q5qrn9myM4/55tN/5z3yPd8/ypNpirH1D9Ta1QncCbw2hKH70eP5RA9BOgcni8KPKOhW7k5nNCGUJi/CW4rgD9Lc9+srOKbVHu3Ut+0NJyAxt55zmWBZ9PXXGV8Nl/0HsZdHW6MrvXPDEP/zBz0z+iLY42b+kf/rNEuxVP1T6x/CkgFAusKLAvY6861L88f3p3NYfB22m6lbZMgvK0TVJ73adqepG0ffmhJu+GSBPSPNthEQP9somes/tEDBI5E4BgD9tShGZ+48jveq4buFgE7z5HfkRakp47O/tf1z/4fo33eQ/2zz0dn//dN/+z/MbKHBAiMBPJJK//V9Vdpyx/5+Kmy5XrtMvX8/NGIPN9nacvzuxyvgP453mO7i5Xpn10oH+9r6J/jPbZWdgQCPb2DverhGj4rmj9eMlx+M9wYXecQPVyGj3ncHwquuxXQP90e+iYL1z9NGLudRP90e+gtnAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgEBXAv8Pj2wVJh/6g30AAAAASUVORK5CYII=";

        const uploadInput = document.getElementById("upload");
        const downloadButton = document.getElementById("download");
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        // Load mask image
        let maskImage = new Image();
        maskImage.src = "data:image/png;base64," + maskImageBase64;
        maskImage.onload = () => {
            canvas.width = maskImage.width;
            canvas.height = maskImage.height;

            // Render the mask as soon as it's loaded
            ctx.drawImage(maskImage, 0, 0);
        };

        // Upload background image
        uploadInput.addEventListener("change", (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const backgroundImage = new Image();
                    backgroundImage.src = e.target.result;

                    backgroundImage.onload = () => {
                        // Draw the uploaded background image first
                        ctx.globalCompositeOperation = "source-over";
                        ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);

                        // Apply mask over it
                        ctx.globalCompositeOperation = "destination-in";
                        ctx.drawImage(maskImage, 0, 0);

                        // Enable the download button after processing
                        downloadButton.style.display = "inline";
                    };
                };
                reader.readAsDataURL(file);
            }
        });

        // Download the resulting image
        downloadButton.addEventListener("click", () => {
            const link = document.createElement("a");
            link.download = "masked_image.png";
            link.href = canvas.toDataURL("image/png");
            link.click();
        });
    </script>
</body>
</html>
